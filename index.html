<html>
  <head>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
      function MakeCalenderEvent() {
        var title = document.getElementById("title").value;
        var startDate = document.getElementById("start-date").value;
        var startTime = document.getElementById("start-time").value;
        var endDate = document.getElementById("end-date").value;
        var endTime = document.getElementById("end-time").value;

        var start = startDate + "T" + startTime + "+01:00";
        var end = endDate + "T" + endTime + "+01:00";

        gapi.load('client:auth2', function() {
          gapi.client.init({
            apiKey: 'AIzaSyBGbQjVOJ-2gj5-OopuiOpyYqN80BCT4qc',
            clientId: '875163929025-30af1oejvkrjicskbdikm8kkep56s153.apps.googleusercontent.com',
            discoveryDocs: ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],
            scope: 'https://www.googleapis.com/auth/calendar'
          }).then(function() {
            gapi.auth2.getAuthInstance().signIn().then(function() {
              gapi.client.load('calendar', 'v3', function() {
                var request = gapi.client.calendar.events.insert({
                  calendarId: 'primary',
                  resource: {
                    'summary': title,
                    'location': 'Amsterdam',
                    'description': 'Event Description',
                    'start': {
                      'dateTime': start,
                      'timeZone': 'Europe/Amsterdam'
                    },
                    'end': {
                      'dateTime': end,
                      'timeZone': 'Europe/Amsterdam'
                    }
                  }
                });
                request.execute(function(event) {
                  console.log('Event created: ' + event.htmlLink);
                });
              });
            });
          });
        });
      }
    </script>
  </head>
  <body>
    <input type="text" id="title" placeholder="Event title">
    <br><br>
    Start Date: <input type="date" id="start-date">
    Start Time: <input type="time" id="start-time">
    <br><br>
    End Date: <input type="date" id="end-date">
    End Time: <input type="time" id="end-time">
    <br><br>
    <button onclick="MakeCalenderEvent()">Create Event</button>
  </body>
</html>

